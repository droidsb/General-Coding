!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,i){"use strict";function n(e){return a/r/e}function o(e,t){return(r*e-(r-s)*t)/(s*t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ditLength=n,t.wpm=function(e){return a/r/e},t.fditLength=function(e,t){return n(e)*o(e,t)},t.ratio=o,t.fwpm=function(e,t){return r*e/(s*t+(r-s))};var r=50,s=19,a=6e4},function(e,t,i){"use strict";function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={morse:"",message:"",hasError:!1};if(""===(e=h(e)))return i;for(var n,r,s=[];e.length>0;)r=1,t&&(n=e.match(/^<...?>/))&&(r=n[0].length),s.push(e.slice(0,r)),e=e.slice(r,e.length);var a;a=t?u:o;var l,c,f;for(l=0;l<s.length;l++)void 0===(c=a[f=s[l]])?(i.message+="#"+f+"#",i.morse+="# ",i.hasError=!0):(i.message+=f,i.morse+=c+" ");return i.morse=i.morse.slice(0,i.morse.length-1),i}Object.defineProperty(t,"__esModule",{value:!0}),t.text2morse=n,t.text2ditdah=function(e,t){var i=n(e,t).morse+" ";return i=i.replace(/\./g,"di~").replace(/\-/g,"dah~"),i=i.replace(/~/g,"-"),i=i.replace(/\- /g," "),i=i.replace(/di /g,"dit "),i=i.replace(/ \/ /g,", "),i=i.replace(/^d/,"D"),i=i.replace(/ $/,""),i=i.replace(/([th])$/,"$1.")},t.morse2text=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={morse:"",message:"",hasError:!1};if(""===(e=f(e)))return i;var n,o=e.split(" ");n=t?a:r;for(var s,u,l=0;l<o.length;l++)void 0===(s=n[u=o[l]])?(i.morse+="#"+u+"# ",i.message+="#",i.hasError=!0):(i.morse+=u+" ",i.message+=s);return i.morse=i.morse.slice(0,i.morse.length-1),i},t.looksLikeMorse=function(e){return!!(e=f(e)).match(/^[ /.-]*$/)},void 0===String.prototype.trim&&(String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")});var o={A:".-",B:"-...",C:"-.-.",D:"-..",E:".",F:"..-.",G:"--.",H:"....",I:"..",J:".---",K:"-.-",L:".-..",M:"--",N:"-.",O:"---",P:".--.",Q:"--.-",R:".-.",S:"...",T:"-",U:"..-",V:"...-",W:".--",X:"-..-",Y:"-.--",Z:"--..",1:".----",2:"..---",3:"...--",4:"....-",5:".....",6:"-....",7:"--...",8:"---..",9:"----.",0:"-----",".":".-.-.-",",":"--..--",":":"---...","?":"..--..","'":".----.","-":"-....-","/":"-..-.","(":"-.--.-",")":"-.--.-",'"':".-..-.","@":".--.-.","=":"-...-"," ":"/"},r={},s={"<AA>":".-.-","<AR>":".-.-.","<AS>":".-...","<BK>":"-...-.-","<BT>":"-...-","<CL>":"-.-..-..","<CT>":"-.-.-","<DO>":"-..---","<KN>":"-.--.","<SK>":"...-.-","<VA>":"...-.-","<SN>":"...-.","<VE>":"...-.","<SOS>":"...---..."},a={},u={};for(var l in o)u[l]=o[l],r[o[l]]=l,a[o[l]]=l;for(var c in s)u[c]=s[c],a[s[c]]=c;var h=function(e){return e=e.toUpperCase(),e=e.trim(),e=e.replace(/\s+/g," ")},f=function(e){return e=e.replace(/\|/g,"/"),e=e.replace(/\//g," / "),e=e.replace(/\s+/g," "),e=e.replace(/(\/ )+\//g,"/"),e=e.replace(/_/g,"-"),e=e.replace(/^\s+/,""),e=e.replace(/\s+$/,"")}},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t,i,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0!==t&&(this.sequenceStartCallback=t),void 0!==i&&(this.sequenceEndingCallback=i),void 0!==n&&(this.soundStoppedCallback=n),this._noAudio=!1,console.log("Trying Web Audio API (Oscillators)"),this.audioContextClass=window.AudioContext||window.webkitAudioContext,void 0===this.audioContextClass)throw this._noAudio=!0,new Error("No AudioContext class defined");this.loop=!1,this.loopPause="///",this.frequency=void 0,this._cTimings=[],this._isPlaying=!1,this._isPaused=!1,this._volume=1,this._lookAheadTime=.1,this._timerInterval=.05,this._timer=void 0,this._stopTimer=void 0}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(e,[{key:"_initialiseAudioNodes",value:function(){this.audioContext=new this.audioContextClass,this.splitterNode=this.audioContext.createGain(),this.lowPassNode=this.audioContext.createBiquadFilter(),this.lowPassNode.type="lowpass",this.lowPassNode.frequency.setValueAtTime(1.1*this.frequency,this.audioContext.currentTime),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.setValueAtTime(.813*this._volume,this.audioContext.currentTime),this.splitterNode.connect(this.lowPassNode),this.lowPassNode.connect(this.gainNode),this.gainNode.connect(this.audioContext.destination)}},{key:"loadCWWave",value:function(e){this.load(e.getTimings(this.loopPause)),this.frequency=e.frequency}},{key:"load",value:function(e){this._cTimings=[0],this.isNote=[];for(var t=0;t<e.length;t++)this._cTimings[t+1]=this._cTimings[t]+Math.abs(e[t])/1e3,this.isNote[t]=e[t]>0;this.sequenceLength=this.isNote.length}},{key:"loadNext",value:function(e){this.upNext=e}},{key:"playFromStart",value:function(){this._noAudio||0===this._cTimings.length||(this.stop(),this._initialiseAudioNodes(),this._nextNote=0,this._isPlaying=!0,this._isPaused=!0,this.play())}},{key:"play",value:function(){this._isPlaying||this.playFromStart(),this._isPaused&&(clearInterval(this._stopTimer),clearInterval(this._startTimer),clearInterval(this._timer),this._isPaused=!1,this._tZero=this.audioContext.currentTime-this._cTimings[this._nextNote],this._scheduleNotes()&&(this._timer=setInterval(function(){this._scheduleNotes()}.bind(this),1e3*this._timerInterval)))}},{key:"pause",value:function(){this._isPlaying&&(this._isPaused=!0,clearInterval(this._timer),this.isNote[this._nextNote]||(this._nextNote++,this.loop&&(this._nextNote%=this.sequenceLength)))}},{key:"stop",value:function(){this._isPlaying&&(this._isPlaying=!1,this._isPaused=!1,clearInterval(this._timer),clearInterval(this._stopTimer),clearInterval(this._startTimer),this.audioContext.close(),this.soundStoppedCallback())}},{key:"_scheduleNotes",value:function(){for(var e,t,i,n=this.audioContext.currentTime;this._nextNote<this.sequenceLength&&this._cTimings[this._nextNote]<n-this._tZero+this._lookAheadTime;)0!==this._nextNote||this.sequenceStartCallbackFired||(this._startTimer=setTimeout(function(){this.sequenceStartCallback()}.bind(this),1e3*(this._tZero+this._cTimings[this._nextNote]-n)),this.sequenceStartCallbackFired=!0),this.isNote[this._nextNote]&&(t=this._tZero+this._cTimings[this._nextNote],i=this._tZero+this._cTimings[this._nextNote+1],this._soundEndTime=i,(e=this.audioContext.createOscillator()).type="sine",e.frequency.setValueAtTime(this.frequency,t),e.start(t),e.stop(this._soundEndTime),e.connect(this.splitterNode)),this._nextNote++,this._nextNote===this.sequenceLength&&(this.loop||void 0!==this.upNext)&&(this._tZero+=this._cTimings[this._nextNote],this._nextNote=0,void 0!==this.upNext&&(this.load(this.upNext),this.upNext=void 0));return this._nextNote===this.sequenceLength?(clearInterval(this._timer),this._stopTimer=setTimeout(function(){this.stop()}.bind(this),1e3*(this._soundEndTime-n+3*this._lookAheadTime)),!1):(n-this._tZero+this._timerInterval+this._lookAheadTime>this._cTimings[this.sequenceLength-1]&&this.sequenceStartCallbackFired&&(this.sequenceEndingCallback(),this.sequenceStartCallbackFired=!1),!0)}},{key:"hasError",value:function(){return this._noAudio}},{key:"sequenceStartCallback",value:function(){}},{key:"sequenceEndingCallback",value:function(){}},{key:"soundStoppedCallback",value:function(){}},{key:"volume",set:function(e){this._volume=Math.min(Math.max(e,0),1),this.gainNode.gain.value=this._volume},get:function(){return this._volume}},{key:"isPlaying",get:function(){return this._isPlaying}},{key:"isPaused",get:function(){return this._isPaused}},{key:"nextNote",get:function(){return this._nextNote}},{key:"audioType",get:function(){return 4}}]),e}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayChangelog=/*! 
This code is Â© Copyright Stephen C. Phillips, 2013-2015.
Email: steve@scphillips.com
*/
function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Cookies.getJSON("changelog")||{},r=n||void 0!==o[e],s=o[e]||0;if(r&&s<t.length){for(var a=0;a<t.length-s;a++)i.find("ul").append("<li>"+t[a]+"</li>");i.foundation("reveal","open")}o[e]=t.length,Cookies.set("changelog",o,{expires:365})}},,function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(i(6)),s=function(e){function t(e,i,o){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:550,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:8e3;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,o)),r.frequency=s,r.sampleRate=a,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),function(e,t,i){t&&o(e.prototype,t),i&&o(e,i)}(t,[{key:"getSample",value:function(){var e=[],t=this.getTimings();if(0===t.length)return[];t.push(-5);for(var i,n,o=1.5*this.frequency/this.sampleRate,r=Math.SQRT1_2,s=Math.sin(2*Math.PI*o),a=Math.cos(2*Math.PI*o),u=s/(2*Math.pow(10,r/20)),l=1+u,c=.5*(1-a)/l,h=(1-a)/l,f=.5*(1-a)/l,p=-2*a/l,d=(1-u)/l,g=2*Math.PI*this.frequency/this.sampleRate,v=t[0]>0?1:0,m=0,y=0,b=0,_=0,k=0;k<t.length;k+=1){for(var w=this.sampleRate*Math.abs(t[k])/1e3,C=0;C<w;C+=1)n=c*(i=v*Math.sin(C*g))+h*m+f*y-p*b-d*_,e.push(.813*n),y=m,m=i,_=b,b=n;v=1-v}return e}},{key:"getWAASample",value:function(){var e=this.getTimings(),t=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(void 0===t)throw new Error("No OfflineAudioContext class defined");var i=new t(1,this.sampleRate*(this.getDuration()+5)/1e3,this.sampleRate),n=i.createGain();n.gain.setValueAtTime(.813,0);var o=i.createBiquadFilter();o.type="lowpass",o.frequency.setValueAtTime(1.1*this.frequency,0),n.connect(o),o.connect(i.destination);for(var r,s,a=0,u=0;u<e.length;u++)s=Math.abs(e[u])/1e3,e[u]>0&&((r=i.createOscillator()).type="sine",r.frequency.setValueAtTime(this.frequency,a),r.start(a),r.stop(a+s),r.connect(n)),a+=s;return i.startRendering().then(function(e){return e.getChannelData(0)})}}]),t}();t.default=s},function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,t}(i(0)),s=function(e){return e&&e.__esModule?e:{default:e}}(i(7)),a=function(e){function t(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i.wpm=o,i.fwpm=r,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),function(e,t,i){t&&o(e.prototype,t),i&&o(e,i)}(t,[{key:"getTimings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=r.ditLength(this._wpm),n=r.ratio(this._wpm,this._fwpm);return t.getTimingsGeneral(i,3*i,i,3*i*n,7*i*n,this.morse,e)}},{key:"getDuration",value:function(){for(var e=this.getTimings(),t=0,i=0;i<e.length;i++)t+=Math.abs(e[i]);return t}},{key:"wpm",set:function(e){this._wpm=e,e<this._fwpm&&(this._fwpm=e)},get:function(){return this._wpm}},{key:"fwpm",set:function(e){this._fwpm=e,e>this._wpm&&(this._wpm=e)},get:function(){return this._fwpm}}],[{key:"getTimingsGeneral",value:function(e,t,i,n,o,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if(this.hasError)return console.log("Error in message, cannot compute timings: "+this.morse),[];r=(r=r.replace(/ \/ /g,"/")).replace(/([\.\-])(?=[\.\-])/g,"$1+"),r+=s;for(var a=[],u=0;u<r.length;u++)switch(r[u]){case".":a.push(e);break;case"-":a.push(t);break;case"+":a.push(-i);break;case" ":a.push(-n);break;case"/":a.push(-o)}for(var l=0;a[a.length-1]<0;)l+=a.pop();return l<0&&a.push(l),a}}]),t}();t.default=a},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,t}(i(1)),r=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.useProsigns=t,this.input="",this.output="",this.morse="",this.message="",this.inputWasMorse=void 0,this.hasError=void 0}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(e,[{key:"translate",value:function(e,t){var i;if(void 0===t&&(t=o.looksLikeMorse(e)),t?(this.inputWasMorse=!0,i=o.morse2text(e,this.useProsigns)):(this.inputWasMorse=!1,i=o.text2morse(e,this.useProsigns)),this.morse=i.morse,this.message=i.message,this.inputWasMorse?(this.input=this.morse,this.output=this.message):(this.input=this.message,this.output=this.morse),this.hasError=i.hasError,this.hasError)throw new Error("Error in input");return this.output}},{key:"clearError",value:function(){this.inputWasMorse?this.morse=this.morse.replace(/#/g,""):(this.message=this.message.replace(/#[^#]*?#/g,""),this.morse=this.morse.replace(/#/g,"")),this.hasError=!1}}]),e}();t.default=r},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.xaudioServerClass=t,this._isPlaying=!1,this.sample=[],this.volume=1,this.samplePos=void 0,this.noAudio=!1,this.audioServer=void 0,this.sampleRate=void 0,this.sample=void 0;var i=this;this.audioGenerator=function(e){if(0===e)return[];var t;return(e=Math.min(e,i.sample.length-i.samplePos))>0?(t=i.sample.slice(i.samplePos,i.samplePos+e),i.samplePos+=e,t):(i._isPlaying=!1,[])},this.failureCallback=function(){i.noAudio=!0},setInterval(function(){i._isPlaying&&i.audioServer.executeCallback()},20),this.load()}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(e,[{key:"stop",value:function(){this._isPlaying=!1,this.audioServer.changeVolume(0)}},{key:"loadCWWave",value:function(e){this.load(e.getSample(),e.sampleRate)}},{key:"load",value:function(e,t){this.sampleRate=t||8e3,this.sample=e||[];for(var i=[],n=0;n<this.sampleRate;n+=1)i.push(0);this.sample=this.sample.concat(i),console.log("Trying XAudioServer"),this.audioServer=new this.xaudioServerClass(1,this.sampleRate,this.sampleRate>>2,this.sampleRate<<1,this.audioGenerator,0,this.failureCallback)}},{key:"playFromStart",value:function(){this.stop(),this._isPlaying=!0,this.samplePos=0,this.audioServer.changeVolume(this.volume)}},{key:"hasError",value:function(){return this.noAudio}},{key:"isPlaying",get:function(){return this._isPlaying}},{key:"audioType",get:function(){return this.audioServer.audioType}}]),e}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return"data:"+t+";base64,"+n.encode(e)};var n={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encLookup:[],init:function(){for(var e=0;e<4096;e++)this.encLookup[e]=this.chars[e>>6]+this.chars[63&e]},encode:function(e){for(var t,i=e.length,n="",o=0;i>2;)t=e[o]<<16|e[o+1]<<8|e[o+2],n+=this.encLookup[t>>12]+this.encLookup[4095&t],i-=3,o+=3;if(i>0){var r=(252&e[o])>>2,s=(3&e[o])<<4;if(i>1&&(s|=(240&e[++o])>>4),n+=this.chars[r],n+=this.chars[s],2==i){var a=(15&e[o++])<<2;a|=(192&e[o])>>6,n+=this.chars[a]}1==i&&(n+="="),n+="="}return n}};n.init()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;e=s(e);var a={chunkId:[82,73,70,70],chunkSize:0,format:[87,65,86,69],subChunk1Id:[102,109,116,32],subChunk1Size:16,audioFormat:1,numChannels:1,sampleRate:t,byteRate:0,blockAlign:0,bitsPerSample:i,subChunk2Id:[100,97,116,97],subChunk2Size:0};return a.blockAlign=a.numChannels*a.bitsPerSample>>3,a.byteRate=a.blockAlign*a.sampleRate,a.subChunk2Size=e.length*(a.bitsPerSample>>3),a.chunkSize=36+a.subChunk2Size,a.chunkId.concat(n(a.chunkSize),a.format,a.subChunk1Id,n(a.subChunk1Size),o(a.audioFormat),o(a.numChannels),n(a.sampleRate),n(a.byteRate),o(a.blockAlign),o(a.bitsPerSample),a.subChunk2Id,n(a.subChunk2Size),16==a.bitsPerSample?r(e):e)},t.getMIMEType=function(){return"audio/wav"};var n=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},o=function(e){return[255&e,e>>8&255]},r=function(e){for(var t=[],i=0,n=e.length,o=0;o<n;o++)t[i++]=255&e[o],t[i++]=e[o]>>8&255;return t},s=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=Math.max(Math.min(128+Math.round(127*e[i]),255),0);return t}},,,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.trim().length}function s(){Cookies.set("speed",{wpm:T.val(),fwpm:N.val(),freq:M.val(),useProsigns:j.is(":checked")},{path:"/",expires:365})}function a(){X||(w.hide(),C.hide(),P.hide(),O.hide()),ne||C.hide(),oe||O.hide(),te||S.hide(),ie||F.hide(),re||L.hide(),re||ie||D.hide(),G.isPlaying?G.isPaused?(w.attr("aria-pressed","false"),C.attr("aria-pressed","true")):(w.attr("aria-pressed","true"),C.attr("aria-pressed","false")):(w.attr("aria-pressed","false"),C.attr("aria-pressed","false")),G.loop?O.attr("aria-pressed","true"):O.attr("aria-pressed","false")}function u(){var e,t=b.val(),i=!0;if(0===r(t))e="",H.translate(""),c(b,"Please enter a message."),i=!1;else{!function(e){e.removeClass("error"),e.next().hasClass("error")&&e.next().remove()}(b);try{e=H.translate(t)}catch(n){t=H.input.replace(/</g,"&lt;").replace(/>/,"&gt;").replace(/#(.*?)#/g,"<span class='highlight'>$1</span>"),e=H.output,c(b,"Error in input: <span class='morse'>"+t+"</span>"),i=!1}}return _.val(e),i}function l(){S.removeAttr("href")}function c(e,t){e.addClass("error");var i=e.next();i.hasClass("error")?i.html(t):e.after("<small class='error'>"+t+"</small>")}function h(e){var t=$("span[data-selector=copybutton]").children();$("span[data-selector=copybutton]").text(e).append(t)}var f=o(i(5)),p=o(i(14)),d=o(i(8)),g=o(i(9)),v=n(i(10)),m=n(i(3)),y=[],b=$("#input"),_=$("#output"),k=$("#translate"),w=$("#play"),C=$("#pause"),P=$("#stop"),O=$("#loop"),S=$("#download"),x=$("#hourglass"),T=$("#wpm"),N=$("#fwpm"),M=$("#pitch"),j=$("#useProsigns"),E=$("#send"),A=$("#hide"),q=($("#addthisdiv"),$("#sharemessage")),I=$("#messagelink"),R=$("#copybutton"),D=$("#soundCB"),F=$("#lightCB"),L=$("#vibrationCB"),W=$("#useSound"),V=$("#useLight"),z=$("#useVibration"),B=$("#light");void 0===String.prototype.trim&&(String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")});var G,Z,K=!1,H=new f.default;try{(G=new p.default).soundOnCallback=function(e){B.css({background:"white"})},G.soundOffCallback=function(e){B.css({background:"black"})},G.sequenceStartCallback=function(){K&&navigator.vibrate(Z)},G.soundStoppedCallback=function(){a()}}catch(e){G=new d.default(XAudioServer)}console.log("Player type: "+G.audioType);var J=Cookies.getJSON("speed");J&&(T.val(J.wpm),N.val(J.fwpm),M.val(J.freq),j.prop("checked",J.useProsigns)),H.wpm=parseInt(T.val()),H.fwpm=parseInt(N.val()),H.frequency=parseInt(M.val()),H.useProsigns=j.is(":checked"),k.on("click",function(){return u(),!1}),w.on("click",function(){return function(){if(w.hasClass("disabled"))return!1;G.isPlaying?G.play():(!u()&&H.inputWasMorse&&H.clearError(),G.loadCWWave(H),G.playFromStart(),Z=H.getTimings().map(function(e){return Math.abs(e)}))}(),a(),!1}),C.on("click",function(){return G.isPaused?(G.play(),K&&navigator.vibrate(Z.slice(G.nextNote))):(G.pause(),K&&navigator.vibrate(0)),a(),!1}),P.on("click",function(){return function(){if(P.hasClass("disabled"))return!1;G.stop(),K&&navigator.vibrate(0)}(),a(),!1}),O.on("click",function(){return G.loop=!G.loop,a(),!1}),S.on("click",function(e){return u(),void 0===S.attr("href")&&function(){var e=new Date;if(S.hasClass("disabled"))return!1;S.addClass("disabled"),x.show();var t=b.val();if(0===r(t))return!1;try{H.translate(t)}catch(e){if(!H.inputWasMorse)return!1;H.clearError()}S.attr("href",(0,g.default)(v.getData(H.getSample()),v.getMIMEType())),console.log("Download generation took: "+(new Date-e)+"ms"),console.log("HREF length: "+r(S.attr("href"))),S.removeClass("disabled"),x.hide()}(),!0}),b.on("change",function(){l(),q.addClass("hide")}),T.on("change",function(){H.wpm=parseInt(T.val()),N.val(H.fwpm),s(),l(),q.addClass("hide")}),N.on("change",function(){H.fwpm=parseInt(N.val()),T.val(H.wpm),s(),l(),q.addClass("hide")}),M.on("change",function(){H.frequency=parseInt(M.val()),s(),l(),q.addClass("hide")}),j.on("change",function(){H.useProsigns=j.is(":checked"),s(),l(),q.addClass("hide")}),W.on("click",function(){G.volume=W.is(":checked")?1:0}),V.on("click",function(){B.toggle(400)}),z.on("click",function(){K=z.is(":checked")}),E.on("click",function(){return function(){if(!u())return!1;if(!q.hasClass("hide"))return!1;var e=H.morse,t=H.message;$.ajax({url:"/cgi-bin/link.cgi",data:{morse:e,message:t,name:"",wpm:T.val(),fwpm:N.val(),hide:A.is(":checked")?"1":"0"},dataType:"text"}).done(function(t,i,n){t=t.trim();var o;o=r(e)>106?"Here's some #morsecode for you: "+t:"#morsecode: "+e+" "+t,a2a.init("page",{target:"#sharebuttondiv",linkname:"Morse code message",linkurl:t,templates:{twitter:o},track_links:"ga",prioritize:["twitter","facebook","google_plus"]}),I.val(t),R.attr("data-clipboard-text",t),q.removeClass("hide")}).fail(function(e,t,i){alert("Request failed: "+t+" : "+i)})}(),!1});var X=!0;G.hasError()&&(X=!1,console.log("Disabling sound playing"));var Q="download"in document.createElement("a");Q&&console.log("Download attribute exists");var U=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);U&&console.log("Might be Safari");var Y=navigator.userAgent.indexOf("Mobi")>-1;Y&&console.log("Might be mobile");var ee=navigator.userAgent.indexOf("MSIE")>-1;ee&&console.log("Might be Explorer");var te=!0;!ee&&(Q||U&&!Y)||(te=!1,console.log("Disabling downloads"));var ie=!0,ne=!0,oe=!0;G.audioType<4&&(ie=!1,console.log("Disabling light"),ne=!1,console.log("Disabling pause"),oe=!1,console.log("Disabling loop"));var re;navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate||!1,navigator.vibrate&&Y?re=!0:(re=!1,K=!1,console.log("Disabling vibration"));var se=!0;2==G.audioType&&(se=!1);var ae="";X&&te&&ie||(ae+="Some features described below have been hidden because your browser does not support them. "),ee||Q||!U||Y||(ae+="It appears you are using Safari: the download button will work if you hold down the Option key when you click it. Save the file with the &quot;.wav&quot; file extension. "),se||(ae+="The sound quality will not be very good as the web browser you are using has to use Flash instead of a more modern technology. "),ae.length>0&&(ae='<div class="row"><div class="large-12 columns"><div class="warning"><p class="first">Warning</p><p>'+ae+'</p><p class="last">Please <a href="http://browsehappy.com/" target="_blank">consider upgrading or changing browser</a> (but note that Internet Explorer cannot work well and the download button in Safari is problematical).</p></div></div></div>',$("#postWarning").before(ae)),a();var ue=new Clipboard("#copybutton");ue.on("success",function(e){h("Copied!"),e.clearSelection()}),ue.on("error",function(e){h("Press Ctrl-C to copy")}),R.mouseleave(function(){setTimeout(function(){h("Copy to clipboard")},300)}),I.focus(function(){this.select()}),$(document).ready(function(){m.displayChangelog("translator",y,$("#changelogModal"))})},function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:r(o,t,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(i(2)),a=function(e){function t(e,i,o,r,s){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,o)),void 0!==r&&(a.soundOnCallback=r),void 0!==s&&(a.soundOffCallback=s),a.wasOn=!1,a.count=0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),function(e,t,i){t&&o(e.prototype,t),i&&o(e,i)}(t,[{key:"_initialiseAudioNodes",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initialiseAudioNodes",this).call(this),this.jsNode=this.audioContext.createScriptProcessor(256,1,1),this.jsNode.connect(this.audioContext.destination),this.jsNode.onaudioprocess=this._processSound.bind(this),this.splitterNode.connect(this.jsNode)}},{key:"load",value:function(e){this._timings=e,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this,e)}},{key:"playFromStart",value:function(){this.offCount=0,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"playFromStart",this).call(this)}},{key:"_processSound",value:function(e){for(var t=e.inputBuffer.getChannelData(0),i=0,n=0;n<t.length;n++)i+=Math.abs(t[n])>0;var o=i>128;o&&!this.wasOn?this._on():!o&&this.wasOn&&this._off(),this.wasOn=o}},{key:"_on",value:function(){this.soundOnCallback(this._timings[this.count]),this.count=(this.count+1)%this._timings.length}},{key:"_off",value:function(){this.soundOffCallback(this._timings[this.count]),this.count=(this.count+1)%this._timings.length}},{key:"soundOnCallback",value:function(){}},{key:"soundOffCallback",value:function(){}}]),t}();t.default=a}]);